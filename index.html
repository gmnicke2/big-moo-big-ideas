<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>LIVE</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="https://aframe.io/releases/0.3.2/aframe.min.js"></script>
    <script src="script.js"></script>
  </head>
  <body>
    <a-scene>
      
    <!-- #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  -->
      
      <!-- ASSET -->
      <a-assets>
        <img id="gradient" src="img/gradient.png">
        <img id="galaxy" src="img/galaxy-mirrored-half.png">
        <img id="catfur" src="img/catfur.jpg">
        <img id="dogfur" src="img/pink_fluffy_fur.png">
        <img id="sprinkles" src="img/sprinkles.jpg">
        <img id="strawberry" src="img/strawberry-ice-cream.jpg">
        <img id="vanilla" src="img/vanilla-ice-cream.jpg">
        <img id="matcha" src="img/matcha-ice-cream.JPG">
        <img id="waffle" src="img/waffle.jpg">

        <audio id="meowAudio" src="sounds/meow.mp3"></audio>
        <audio id="borkbork" src="sounds/puppy-bark.wav"></audio>
        <audio id="palmtrees" src="sounds/Bpm100_C_PalmTrees_Bass.wav"></audio>
        <audio id="beat100_1" src="sounds/Bpm100_DrumLoop_13.wav"></audio>
        <audio id="swinger-chords" src="sounds/Bpm100_C_SwingerChords_Synth.wav"></audio>
        <audio id="ynk" src="sounds/Bpm115_C_YouNeverKnow01_Synth.wav"></audio>
        <audio id="starbeam" src="sounds/Bpm125_E_StarBeam01_Synth.wav"></audio>
        <audio id="arp" src="sounds/Bpm145_A_Phantom_Arp01.wav"></audio>
      </a-assets>
      
      <!-- BG -->
      <a-sky src="#galaxy"></a-sky>
      
      <!-- ENTITIES -->
      <!-- position="+R +UP +TWD-->
      
      <!-- gradient box -->
      <a-entity>
        <a-dodecahedron id="gradientDodeca" width="2" height="2" depth="2" sound="src: #swinger-chords; on: spinHigherCluster; loop: true"
               position="-6 3 -5" rotation="90 90 30" scale="1.25 1.25 1.25"
               src="#gradient">
          <a-animation attribute="rotation" begin="spinHigherCluster" end="stopSpinHigherCluster" dur="1200" repeat="indefinite" to="45 360 45"></a-animation>
        </a-dodecahedron>
      </a-entity>

      <a-entity>
        <a-octahedron id="gradientOcta" width="2" height="2" depth="2" sound="src: #palmtrees; on: spinHigherCluster; loop: true"
                        position="3 3 -5" rotation="90 90 30" scale="1.25 1.25 1.25"
                        src="#gradient">
          <a-animation attribute="rotation" begin="spinHigherCluster" end="stopSpinHigherCluster" dur="1200" repeat="indefinite" to="45 360 45"></a-animation>
        </a-octahedron>
      </a-entity>

      <a-entity>
        <a-box id="gradientBox" width="1.5" height="1.5" depth="1.5" sound="src: #beat100_1; on: spinHigherCluster; loop: true; volume: 0.75"
                      position="-1.5 3 2.5" rotation="90 90 30" scale="1.25 1.25 1.25"
                      src="#gradient">
          <a-animation attribute="rotation" begin="spinHigherCluster" end="stopSpinHigherCluster" easing="ease-circ" dur="1200" repeat="indefinite" to="45 360 45"></a-animation>
        </a-box>
      </a-entity>

      <a-entity>
        <a-sphere id="startSphere" radius="1"
               position="-1.5 1 -2.5" rotation="90 90 30" scale="1.25 1.25 1.25"
               src="#gradient" metalness="0.5">
          <a-animation attribute="rotation" begin="spinHigherCluster" end="stopSpinHigherCluster" dur="2400" repeat="indefinite" to="45 360 45"></a-animation>
        </a-sphere>
      </a-entity>
      
      <!-- egg -->
      <a-torus position="10 0.75 -10" color="#fff" arc="360" rotation="-30 -30 0" radius="0.5" radius-tubular="0.1"></a-torus>
      <a-sphere position="10 0.75 -10" radius="0.3" rotation="-90 0 0" color="#ffcc99"></a-sphere>
      
      
      <!-- LIGHT -->
      <!--<a-light type="spot" color="#fefefe" position="-20 0 0" look-at="a-box"></a-light>
      <a-light type="point" color="#AAA" position="0 5 0"></a-light>-->

      <!-- CAMERA -->
      <a-camera position="-8 2.5 -2">
        <a-cursor color="#af00ff"></a-cursor>
      </a-camera>

      <!-- gradient box -->
      <a-entity sound="src: #swinger-chords; on: click">
        <a-box id="gradientBox2"
               width="2" height="2" depth="2"
               position="-2.25 0 -7" rotation="90 90 30" scale="1.25 1.25 1.25"
               src="#gradient" opacity="0.4">
          <a-animation attribute="rotation" repeat="indefinite" to="45 360 45" direction="alternate"></a-animation>
          <!--<a-animation attribute="rotation" dur="1750" begin="onClick" end="offClick" repeat="indefinite" to="45 360 45"></a-animation>
          <a-animation attribute="rotation" dur="1750" begin="offClick" end="offClick" repeat="indefinite" to="45 -360 45"></a-animation>-->
        </a-box>
      </a-entity>

      <!-- tetra -->
      <a-entity sound="src: #ynk; on: click"> <!-- color="#99d6ff" -->
        <a-tetrahedron id="tetra"
                       radius="2"
                       position="-6.25 0 -0.25" rotation="90 15 20"
                       src="#gradient" opacity="0.4">
          <a-animation attribute="rotation" repeat="indefinite" to="45 360 45" direction="alternate"></a-animation> <!-- begin="onClick" end="offClick"  -->
        </a-tetrahedron>
      </a-entity>

      <!-- sphere -->
      <a-entity sound="src: #starbeam; on: click"> <!-- color="#99d6ff" -->
        <a-sphere id="sphr"
                  radius="1.7"
                  position="2.5 0 1.5" rotation="0 0 0"
                  src="#gradient" opacity="0.4">
          <a-animation attribute="rotation" repeat="indefinite" to="45 360 45" direction="alternate"></a-animation> <!-- begin="onClick" end="offClick"  -->
        </a-sphere>
      </a-entity>

      <!-- tknot -->
      <a-entity sound="src: #arp; autoplay: true; loop: true; volume: 0.7"> <!-- color="#ff80aa"   -->
        <a-torus-knot id="tknot"
                      src="#gradient" opacity="0.8"
                      position="-1.5 7 -0.25" rotation="90 30 -30"
                      arc="120" p="2" q="5" radius="0.75" radius-tubular="0.1">
          <a-animation attribute="q" begin="onClick" to="7"></a-animation>
          <a-animation attribute="q" begin="offClick" to="5"></a-animation>
          <a-animation attribute="rotation" dur="2700" repeat="indefinite" to="0 360 360"></a-animation>
          <!--<a-animation attribute="radius" dur="2700" to="1.25" begin="onClick"></a-animation>
          <a-animation attribute="radius" dur="2700" to="0.75" begin="offClick"></a-animation>-->
          <a-animation attribute="volume" to="0" begin="animationend"></a-animation>
        </a-torus-knot>

      </a-entity>

	  <!-- tiny star orbits -->
      <!-- CLUSTER 1 -->
      <!-- <a-entity> color="#99d6ff"
        <a-sphere id="orbit" 
                      radius="0.25"
                      position="3 3 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <a-animation ></a-animation>  begin="onClick" end="offClick"
        </a-sphere>  
      </a-entity> -->
      
      <!-- tiny star cluster orbits -->
      <a-entity position="0 10 -10">
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="3 4 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>  
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="2.8 4.125 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>  
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="3 4.25 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>
        <a-animation attribute="rotation"
               dur="7000"
               fill="forwards"
               to="360 360 0"
               repeat="indefinite"></a-animation>
      </a-entity>
      
      <!-- CLUSTER 2 -->
      <a-entity position="0 3 0">
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="3 4 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>  
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="2.8 4.125 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>  
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="3 4.25 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>
        <a-animation attribute="rotation"
               dur="7000"
               fill="backwards"
               to="0 360 360"
               repeat="indefinite"></a-animation>
      </a-entity>

      <!-- kool kat for kool kids -->
      <a-entity position="10 2 10" id="cat" sound="src: #meowAudio; on: mouseenter">

        <a-box id="catbox" src="#catfur" position="0 2 7" depth="3" width="5" height="4"></a-box>
        <a-cone src="#catfur" position="-1.5 5 7" radius-bottom="0.8" radius-top="0" height="3.5"></a-cone>
        <a-cone src="#catfur" position="1.5 5 7" radius-bottom="0.8" radius-top="0" height="3.5"></a-cone>
        <a-ring color="black" position="1.1 2.4 5.4" rotation="0 180 0"
                theta-start="0" theta-length="180" radius-inner="0.7" radius-outer="1.0"></a-ring>
        <a-ring color="black" position="-1.1 2.4 5.4" rotation="0 180 0"
                theta-start="0" theta-length="180" radius-inner="0.7" radius-outer="1.0"></a-ring>
      </a-entity>
      
      <!-- DOGEY DOGE for DOGEY PEEPS -->
      <a-entity position="-10 5 10" rotation="0 45 0" id="dog" sound="src: #borkbork; on: mouseenter">
        <a-box position="0 0 0" src="#dogfur" height="3" width="5" depth="3"></a-box>
        <a-ring color="#000" rotation="0 0 0" position="1 0 1.6"
                theta-start="0" theta-length="180"
                radius-inner="0.75" radius-outer="1.0"
                scale="0.7 1 1"></a-ring>
        <a-ring color="#000" rotation="0 0 0" position="-1 0 1.6"
                theta-start="0" theta-length="180"
                radius-inner="0.75" radius-outer="1.0"
                scale="0.7 1 1"></a-ring>
        <a-circle color="#ff0055" position="0 -0.5 1.6"
                  radius="1" theta-start="180" theta-length="180"
                  scale="0.4 0.7 1"></a-circle>
        <a-sphere position="-3 -.5 1" rotation="0 0 -7"
                  radius="1"
                  src="#dogfur"
                  scale="0.35 2 1"></a-sphere>
        <a-sphere position="3 -.5 1" rotation="0 0 7"
                  radius="1"
                  src="#dogfur"
                  scale="0.35 2 1"></a-sphere>
        <a-sphere></a-sphere>
      </a-entity>
      
      <!-- DONUT -->
      <a-entity>
      <a-torus id="donut" radius="1" radius-tubular="0.3" 
               src="#sprinkles" scale="0.6 0.6 0.6" 
               position="-7 11 0" rotation="45 45 0"></a-torus>
      </a-entity>
      
      <!-- ICE CREAM --> <!-- position="-8.5 2.5 -14" -->
      <a-entity id="ice-cream" position="-5.25 2.75 -9.25">
        <a-sphere color="#e6005c" position="0 1.9 0" radius="0.07"></a-sphere>
        <a-sphere src="#strawberry" radius="0.35" position="0 1.5 0"></a-sphere>
        <a-sphere src="#vanilla" radius="0.35" position="0 1 0"></a-sphere>
        <a-sphere src="#matcha" radius="0.35" position="0 0.5 0"></a-sphere>
        <a-cone src="#waffle" radius-top="0" radius-bottom="0.325" height="0.95" 
                position="0 0 0" rotation="0 180 180"></a-cone>
      </a-entity>

    </a-scene>
    
    <!-- SCRIPT -->
    <script>

      var setSpinning = function (entity) {
        if(entity.isSpinning != true) {
          entity.isSpinning = true;
          if(entity.components && entity.components.sound) {entity.components.sound.play();}
          entity.emit('spinHigherCluster');
        }
        else {
          entity.isSpinning = false;
          if(entity.components && entity.components.sound) {entity.components.sound.pause();}
          entity.emit('stopSpinHigherCluster');
        }
        return entity;
      };

      document.querySelector('#gradientDodeca')
        .addEventListener('click', function() {
          setSpinning(this);
        });

      document.querySelector('#gradientOcta')
        .addEventListener('click', function() {
          setSpinning(this);
        });

      document.querySelector('#gradientBox')
        .addEventListener('click', function() {
          setSpinning(this);
        });

      document.querySelector('#startSphere')
        .addEventListener('click', function() {
          setSpinning(this);
          setSpinning(document.querySelector('#gradientBox'));
          setSpinning(document.querySelector('#gradientOcta'));
          setSpinning(document.querySelector('#gradientDodeca'));
        });

      // gradientBox
      document.querySelector('#gradientBox2')
              .addEventListener('click', function() {
                if(this.isOn != true) {
                  this.isOn = true;
                  this.emit('onClick');
                }
                else {
                  this.isOn = false;
                  this.emit('offClick');
                }
              });

      // tetra
      document.querySelector('#tetra')
              .addEventListener('click', function() {
                if(this.isOn != true) {
                  this.isOn = true;
                  this.emit('onClick');
                }
                else {
                  this.isOn = false;
                  this.emit('offClick');
                }
              });

      // sphere
      document.querySelector('#sphr')
              .addEventListener('click', function() {
                if(this.isOn != true) {
                  this.isOn = true;
                  this.emit('onClick');
                }
                else {
                  this.isOn = false;
                  this.emit('offClick');
                }
              });

      // tknot
      document.querySelector('#tknot')
              .addEventListener('click', function() {
                if(this.isOn != true) {
                  this.isOn = true;
                  this.emit('onClick');
                }
                else {
                  this.isOn = false;
                  this.emit('offClick');
                }
              });
    </script>
    
  </body>
</html>