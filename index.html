<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>LIVE</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="https://aframe.io/releases/0.3.2/aframe.min.js"></script>
    <script src="script.js"></script>
  </head>
  <body>
    
    <a-scene>
      
    <!-- #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  #  -->
      
      <!-- ASSETS -->
      <a-assets>
        <img id="gradient" src="img/gradient.png">
        <img id="galaxy" src="img/galaxy-mirrored-half.png">
        <img id="blue" src="/img/blue.png">
        <img id="purple" src="/img/purple.png">
        
        <audio id="swinger-chords" src="sounds/Bpm100_C_SwingerChords_Synth.wav"></audio>
        <audio id="ynk" src="sounds/Bpm115_C_YouNeverKnow01_Synth.wav"></audio>
        <audio id="starbeam" src="sounds/Bpm125_E_StarBeam01_Synth.wav"></audio>
        <audio id="arp" src="sounds/Bpm145_A_Phantom_Arp01.wav"></audio>
      </a-assets>
      
      <!-- BG -->
      <a-sky src="#galaxy"></a-sky>
      
      <!-- ENTITIES -->
      <!-- position="+R +UP +TWD-->
      
      <!-- gradient box -->
      <a-entity sound="src: #swinger-chords; on: click">
        <a-box id="gradientBox" 
               width="2" height="2" depth="2"
               position="0 2 -5" rotation="90 90 30" scale="1.25 1.25 1.25"
               src="#gradient" opacity="0.8">
          <a-animation attribute="rotation" repeat="indefinite" to="45 360 45" direction="alternate"></a-animation>
          <!--<a-animation attribute="rotation" dur="1750" begin="onClick" end="offClick" repeat="indefinite" to="45 360 45"></a-animation>
          <a-animation attribute="rotation" dur="1750" begin="offClick" end="offClick" repeat="indefinite" to="45 -360 45"></a-animation>-->
        </a-box>
      </a-entity>
      
      <!-- tetra -->
      <a-entity sound="src: #ynk; on: click"> <!-- color="#99d6ff" -->
        <a-tetrahedron id="tetra" 
                      radius="2"
                      position="-5.75 2.25 -3" rotation="90 15 20"
                      src="#gradient" opacity="0.8">
        <a-animation attribute="rotation" repeat="indefinite" to="45 360 45" direction="alternate"></a-animation> <!-- begin="onClick" end="offClick"  -->
        </a-tetrahedron>  
      </a-entity>
        
      <!-- sphere -->
      <a-entity sound="src: #starbeam; on: click"> <!-- color="#99d6ff" -->
        <a-sphere id="sphr" 
                      radius="1.7"
                      position="0.25 0.5 -1" rotation="0 0 0"
                      src="#gradient" opacity="0.8">
        <a-animation attribute="rotation" repeat="indefinite" to="45 360 45" direction="alternate"></a-animation> <!-- begin="onClick" end="offClick"  -->
        </a-sphere>  
      </a-entity>
        
      <!-- tknot -->
      <a-entity sound="src: #arp; autoplay: true; loop: true; volume: 0.7"> <!-- color="#ff80aa"   -->
        <a-torus-knot id="tknot"
                      src="#gradient" opacity="0.8" 
                      position="-1.5 7 -0.25" rotation="90 30 -30"
                      arc="120" p="2" q="5" radius="0.75" radius-tubular="0.1">
          <a-animation attribute="q" begin="onClick" to="7"></a-animation>
          <a-animation attribute="q" begin="offClick" to="5"></a-animation>
          <a-animation attribute="rotation" dur="2700" repeat="indefinite" to="0 360 360"></a-animation>
          <!--<a-animation attribute="radius" dur="2700" to="1.25" begin="onClick"></a-animation>
          <a-animation attribute="radius" dur="2700" to="0.75" begin="offClick"></a-animation>-->
          <a-animation attribute="volume" to="0" begin="animationend"></a-animation>
        </a-torus-knot>
      </a-entity>

      <!-- tiny star orbits -->
      <!-- CLUSTER 1 -->
      <a-entity> <!-- color="#99d6ff" -->
        <a-sphere id="orbit" 
                      radius="0.25"
                      position="3 3 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>  
      </a-entity>
      
      <!-- tiny star cluster orbits -->
      <a-entity position="0 10 -10">
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="3 4 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>  
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="2.8 4.125 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>  
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="3 4.25 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>
        <a-animation attribute="rotation"
               dur="7000"
               fill="forwards"
               to="360 360 0"
               repeat="indefinite"></a-animation>
      </a-entity>
      
      <!-- CLUSTER 2 -->
      <a-entity position="0 3 0">
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="3 4 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>  
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="2.8 4.125 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>  
        <a-sphere id="orbit-cluster" 
                      radius="0.15"
                      position="3 4.25 3" rotation="0 0 0"
                      color="#fff" opacity="1">
        <!-- <a-animation ></a-animation>  begin="onClick" end="offClick"  -->
        </a-sphere>
        <a-animation attribute="rotation"
               dur="7000"
               fill="backwards"
               to="0 360 360"
               repeat="indefinite"></a-animation>
      </a-entity>
      
      
      <!-- egg -->
      <!--
      <a-entity id="egg">
        <a-torus position="0.1 0.75 -3" color="#fff" arc="360" rotation="-30 -30 0" radius="0.5" radius-tubular="0.1"></a-torus>
        <a-sphere position="0.12 0.75 -3" radius="0.3" rotation="-90 0 0" color="#ffcc99"></a-sphere>
      <a-entity>-->
      
      
      <!-- LIGHT -->
      <!--<a-light type="spot" color="#fefefe" position="-20 0 0" look-at="a-box"></a-light>
      <a-light type="point" color="#AAA" position="0 5 0"></a-light>
      <a-entity light="color: #000; intensity: 1.5"></a-entity>-->

      <!-- CAMERA -->
      <a-camera position="-8 2.5 -2">
        <a-cursor color="#2E3A87"></a-cursor>
      </a-camera>
      
    </a-scene>
    
    <!-- SCRIPT -->
    <script>
      
    // gradientBox 
    document.querySelector('#gradientBox')
      .addEventListener('click', function() {
        if(this.isOn != true) {
            this.isOn = true;
            this.emit('onClick');
        } 
        else {
          this.isOn = false;
          this.emit('offClick');
        }
      });
    
    // tetra 
    document.querySelector('#tetra')
      .addEventListener('click', function() {
        if(this.isOn != true) {
            this.isOn = true;
            this.emit('onClick');
        } 
        else {
          this.isOn = false;
          this.emit('offClick');
        }
      });
      
    // sphere 
    document.querySelector('#sphr')
      .addEventListener('click', function() {
        if(this.isOn != true) {
            this.isOn = true;
            this.emit('onClick');
        } 
        else {
          this.isOn = false;
          this.emit('offClick');
        }
      });
      
    // tknot
    document.querySelector('#tknot')
      .addEventListener('click', function() {
        if(this.isOn != true) {
            this.isOn = true;
            this.emit('onClick');
        } 
        else {
          this.isOn = false;
          this.emit('offClick');
        }
      });
    </script>
    
  </body>
</html>